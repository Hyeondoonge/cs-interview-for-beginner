## HTTP

- 웹 상에서 html과 같은 문서를 주고받기 위해 사용하는 응용계층 프로토콜이다.
- 상태를 저장하지 않는다(stateless). 때문에 각 요청 및 응답은 독립적이라고 할 수 있다.

### HTTP 메시지

서버와 클라이언트가 데이터를 주고받은 방법이다. 요청 메시지와 응답 메시지로 구분된다.
두 메시지의 기본구조는 아래와 같다.

```
+---------------------------+
+    Head(line + header)    +
+---------------------------+
+          Body(본문)        +
+---------------------------+
```

Head의 내용은 메시지가 요청을 위한 것인지 또는 응답을 위한 것인지에 따라 다르다.
요청메시지일 때는 시작 줄에 메소드, URL, 프로토콜 버전이 응답메시지일 때는 프로토콜 버전, 상태코드, 상태메시지로 구성된다. 응답메시지의 시작줄은 상태줄이라고도한다.

### HTTP 메소드

- GET: 서버의 리소스를 요청
- POST: 서버에 리소스 등록을 요청
- PUT: 서버에 데이터를 전달하여 새로운 리소스 생성 또는 특정 리소스의 전체 내용 수정을 요청
- DELETE: 서버에 리소스 삭제를 요청
- PATCH: 서버에 데이터를 전달하여 리소스를 부분적으로 수정

### HTTP 상태코드

클라이언트가 보낸 요청에 서버가 적절한 응답코드를 설정하여 응답하게된다.
이 응답코드를 통해 클라이언트는 요청이 잘 처리되었는지 혹은 어떤 문제가 발생했는지 파악할 수 있다.

다음과 같이 상태코드는 크게 5가지로 분류할 수 있다.

- 1XX: 정보를 제공하는 응답. ex) 100 Continue
- 2XX: 성공적인 응답. ex) 200 Ok, 201 Created
- 3XX: 리다이렉트. ex) 301 Moved Permanently, 304 Not Modified
- 4XX: 클라이언트 에러. ex) 401 UnAuthorized, 403 Forbidden, 404 Not Found
- 5XX: 서버 에러. ex) 500 Internal Server Error

## HTTP 버전별 특징

### HTTP/0.9

```
GET /mypage.html
```

- '원라인 프로토콜'
- 유일한 Get 메소드
- html 문서만 응답

### HTTP/1.0

확장성이 개선된 버전

- 헤더 추가. 덕분에 html 뿐만아니라 여러 종류의 컨텐츠를 응답할 수 있음.
- 상태 코드 추가
- 각 요청에 프로토콜 버전 추가

### HTTP/1.1

표준 프로토콜

- 파이프라이닝으로 통신 지연 문제 개선
- 커넥션 재사용으로 커넥션 생성 비용 감소
- 캐시 제어 매커니즘 추가로 로드 속도 향상 및 네트워크 트래픽 감소
- 컨텐츠 협상으로 사용자에게 적절한 리소스를 제공
<!-- - Host헤더 추가로 IP주소 하나로 여러 사이트 운영 가능 -->

### HTTP/2

성능이 개선된 버전

- 바이너리 프레이밍으로 통신 속도 향상
- 다중화(Multiplexing)로 HOLB(Head-of-line blocking)문제 개선

  하지만, TCP의 HOLB문제가 남아있음.

- 헤더 압축으로 메시지 전송 오버헤드 감소

### HTTP/3 - QUIC과 HTTP

전송계층 프로토콜인 UDP를 사용하는 QUIC을 기반으로 동작

- 연결 설정시간 단축
- 개선된 다중화(Multiplexing)로 HOLB(Head-of-line blocking) 문제 해결
- 패킷 손실 감지 매커니즘의 성능 개선
